{"ast":null,"code":"var _jsxFileName = \"/Users/ahmetmuhittinuzun/Documents/GitHub/Zikir_Takip/src/components/EvradSayfasi.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { doc, getDoc, updateDoc, arrayUnion } from 'firebase/firestore';\nimport '../styles/main.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EvradSayfasi() {\n  _s();\n  const {\n    evradId\n  } = useParams();\n  const [evrad, setEvrad] = useState(null);\n  const [isim, setIsim] = useState('');\n  const [okumaSayisi, setOkumaSayisi] = useState('');\n  useEffect(() => {\n    const evradGetir = async () => {\n      const docRef = doc(db, \"evradlar\", evradId);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setEvrad(docSnap.data());\n      }\n    };\n    evradGetir();\n  }, [evradId]);\n  const katilimEkle = async e => {\n    e.preventDefault();\n    if (!isim || !okumaSayisi) {\n      alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun.');\n      return;\n    }\n    const docRef = doc(db, \"evradlar\", evradId);\n    const yeniKalanSayi = evrad.kalanSayi - parseInt(okumaSayisi);\n    try {\n      await updateDoc(docRef, {\n        kalanSayi: yeniKalanSayi,\n        katilimcilar: arrayUnion({\n          isim: isim,\n          okumaSayisi: parseInt(okumaSayisi)\n        }),\n        tamamlandi: yeniKalanSayi <= 0\n      });\n      setIsim('');\n      setOkumaSayisi('');\n      window.location.reload();\n    } catch (error) {\n      alert('Hata: ' + error.message);\n    }\n  };\n  if (!evrad) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: \"Y\\xFCkleniyor...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"evrad-sayfasi\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: evrad.adi\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evrad-bilgi\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Hedef Say\\u0131: \", evrad.hedefSayi]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Kalan Say\\u0131: \", evrad.kalanSayi]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), evrad.tamamlandi ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tamamlandi\",\n        children: [\"\\uD83C\\uDF1F Elhamd\\xFClillah! Evrad tamamland\\u0131.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 48\n        }, this), \"Allah kabul etsin.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: katilimEkle,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0130sminiz\",\n          value: isim,\n          onChange: e => setIsim(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Ka\\xE7 kez okuyacaks\\u0131n\\u0131z?\",\n          value: okumaSayisi,\n          onChange: e => setOkumaSayisi(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Kaydet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(EvradSayfasi, \"NHp7gBvb1W3SxfA6LPpldIRA6ng=\", false, function () {\n  return [useParams];\n});\n_c = EvradSayfasi;\nexport default EvradSayfasi;\nvar _c;\n$RefreshReg$(_c, \"EvradSayfasi\");","map":{"version":3,"names":["React","useState","useEffect","useParams","db","doc","getDoc","updateDoc","arrayUnion","jsxDEV","_jsxDEV","EvradSayfasi","_s","evradId","evrad","setEvrad","isim","setIsim","okumaSayisi","setOkumaSayisi","evradGetir","docRef","docSnap","exists","data","katilimEkle","e","preventDefault","alert","yeniKalanSayi","kalanSayi","parseInt","katilimcilar","tamamlandi","window","location","reload","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","adi","hedefSayi","onSubmit","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/ahmetmuhittinuzun/Documents/GitHub/Zikir_Takip/src/components/EvradSayfasi.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { doc, getDoc, updateDoc, arrayUnion } from 'firebase/firestore';\nimport '../styles/main.css';\n\nfunction EvradSayfasi() {\n  const { evradId } = useParams();\n  const [evrad, setEvrad] = useState(null);\n  const [isim, setIsim] = useState('');\n  const [okumaSayisi, setOkumaSayisi] = useState('');\n\n  useEffect(() => {\n    const evradGetir = async () => {\n      const docRef = doc(db, \"evradlar\", evradId);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setEvrad(docSnap.data());\n      }\n    };\n    evradGetir();\n  }, [evradId]);\n\n  const katilimEkle = async (e) => {\n    e.preventDefault();\n    if (!isim || !okumaSayisi) {\n      alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun.');\n      return;\n    }\n\n    const docRef = doc(db, \"evradlar\", evradId);\n    const yeniKalanSayi = evrad.kalanSayi - parseInt(okumaSayisi);\n    \n    try {\n      await updateDoc(docRef, {\n        kalanSayi: yeniKalanSayi,\n        katilimcilar: arrayUnion({\n          isim: isim,\n          okumaSayisi: parseInt(okumaSayisi)\n        }),\n        tamamlandi: yeniKalanSayi <= 0\n      });\n      \n      setIsim('');\n      setOkumaSayisi('');\n      window.location.reload();\n    } catch (error) {\n      alert('Hata: ' + error.message);\n    }\n  };\n\n  if (!evrad) return <div className=\"container\">YÃ¼kleniyor...</div>;\n\n  return (\n    <div className=\"container\">\n      <div className=\"evrad-sayfasi\">\n        <h2>{evrad.adi}</h2>\n        <div className=\"evrad-bilgi\">\n          <p>Hedef SayÄ±: {evrad.hedefSayi}</p>\n          <p>Kalan SayÄ±: {evrad.kalanSayi}</p>\n        </div>\n        \n        {evrad.tamamlandi ? (\n          <div className=\"tamamlandi\">\n            ðŸŒŸ ElhamdÃ¼lillah! Evrad tamamlandÄ±.<br/>\n            Allah kabul etsin.\n          </div>\n        ) : (\n          <form onSubmit={katilimEkle}>\n            <input\n              type=\"text\"\n              placeholder=\"Ä°sminiz\"\n              value={isim}\n              onChange={(e) => setIsim(e.target.value)}\n            />\n            <input\n              type=\"number\"\n              placeholder=\"KaÃ§ kez okuyacaksÄ±nÄ±z?\"\n              value={okumaSayisi}\n              onChange={(e) => setOkumaSayisi(e.target.value)}\n            />\n            <button type=\"submit\">Kaydet</button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default EvradSayfasi; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}