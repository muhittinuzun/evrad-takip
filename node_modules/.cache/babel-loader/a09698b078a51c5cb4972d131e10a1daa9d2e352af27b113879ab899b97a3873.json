{"ast":null,"code":"var _jsxFileName = \"/Users/ahmetmuhittinuzun/Documents/GitHub/Zikir_Takip/src/components/AdminPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { db } from '../firebase';\nimport { collection, addDoc, query, orderBy, onSnapshot } from 'firebase/firestore';\nimport '../styles/main.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPanel() {\n  _s();\n  const [evradAdi, setEvradAdi] = useState('');\n  const [hedefSayi, setHedefSayi] = useState('');\n  const [evradlar, setEvradlar] = useState([]);\n  useEffect(() => {\n    const q = query(collection(db, \"evradlar\"), orderBy(\"olusturulmaTarihi\", \"desc\"));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      const evradlarData = [];\n      querySnapshot.forEach(doc => {\n        evradlarData.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setEvradlar(evradlarData);\n    });\n    return () => unsubscribe();\n  }, []);\n  const evradOlustur = async e => {\n    e.preventDefault();\n    try {\n      const docRef = await addDoc(collection(db, \"evradlar\"), {\n        adi: evradAdi,\n        hedefSayi: parseInt(hedefSayi),\n        kalanSayi: parseInt(hedefSayi),\n        tamamlandi: false,\n        olusturulmaTarihi: new Date(),\n        katilimcilar: []\n      });\n\n      // Development ve production için farklı URL'ler\n      const isDevelopment = window.location.hostname === 'localhost';\n      const protocol = isDevelopment ? 'http' : 'https';\n      const host = isDevelopment ? 'localhost:3000' : window.location.host;\n      const paylasilacakLink = `http://${window.location.host}/evrad/${docRef.id}`;\n      const whatsappLink = `https://wa.me/?text=${encodeURIComponent(`${evradAdi} Evradına katılmak için aşağıdaki linke tıklayabilirsiniz:\\n${paylasilacakLink}`)}`;\n      window.open(whatsappLink, '_blank');\n      setEvradAdi('');\n      setHedefSayi('');\n    } catch (error) {\n      alert('Hata: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Yeni Evrad Olu\\u015Ftur\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: evradOlustur,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Evrad Ad\\u0131\",\n          value: evradAdi,\n          onChange: e => setEvradAdi(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Hedef Say\\u0131\",\n          value: hedefSayi,\n          onChange: e => setHedefSayi(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Olu\\u015Ftur ve Payla\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evrad-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Evradlar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), evradlar.map(evrad => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evrad-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: evrad.adi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evrad-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Hedef: \", evrad.hedefSayi]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Kalan: \", evrad.kalanSayi]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), evrad.katilimcilar.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"katilimcilar\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Kat\\u0131l\\u0131mc\\u0131lar:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), evrad.katilimcilar.map((k, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [k.isim, \" - \", k.okumaSayisi]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), evrad.tamamlandi && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tamamlandi\",\n            children: \"\\uD83C\\uDF1F Elhamd\\xFClillah! Evrad tamamland\\u0131.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, evrad.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanel, \"jnJvBGqSk5iwC8dWKJ8FOSP1ZuQ=\");\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","addDoc","query","orderBy","onSnapshot","jsxDEV","_jsxDEV","AdminPanel","_s","evradAdi","setEvradAdi","hedefSayi","setHedefSayi","evradlar","setEvradlar","q","unsubscribe","querySnapshot","evradlarData","forEach","doc","push","id","data","evradOlustur","e","preventDefault","docRef","adi","parseInt","kalanSayi","tamamlandi","olusturulmaTarihi","Date","katilimcilar","isDevelopment","window","location","hostname","protocol","host","paylasilacakLink","whatsappLink","encodeURIComponent","open","error","alert","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","map","evrad","length","k","i","isim","okumaSayisi","_c","$RefreshReg$"],"sources":["/Users/ahmetmuhittinuzun/Documents/GitHub/Zikir_Takip/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../firebase';\nimport { collection, addDoc, query, orderBy, onSnapshot } from 'firebase/firestore';\nimport '../styles/main.css';\n\nfunction AdminPanel() {\n  const [evradAdi, setEvradAdi] = useState('');\n  const [hedefSayi, setHedefSayi] = useState('');\n  const [evradlar, setEvradlar] = useState([]);\n\n  useEffect(() => {\n    const q = query(collection(db, \"evradlar\"), orderBy(\"olusturulmaTarihi\", \"desc\"));\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const evradlarData = [];\n      querySnapshot.forEach((doc) => {\n        evradlarData.push({ id: doc.id, ...doc.data() });\n      });\n      setEvradlar(evradlarData);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const evradOlustur = async (e) => {\n    e.preventDefault();\n    try {\n      const docRef = await addDoc(collection(db, \"evradlar\"), {\n        adi: evradAdi,\n        hedefSayi: parseInt(hedefSayi),\n        kalanSayi: parseInt(hedefSayi),\n        tamamlandi: false,\n        olusturulmaTarihi: new Date(),\n        katilimcilar: []\n      });\n      \n      // Development ve production için farklı URL'ler\n      const isDevelopment = window.location.hostname === 'localhost';\n      const protocol = isDevelopment ? 'http' : 'https';\n      const host = isDevelopment ? 'localhost:3000' : window.location.host;\n      \n      const paylasilacakLink = `http://${window.location.host}/evrad/${docRef.id}`;\n      const whatsappLink = `https://wa.me/?text=${encodeURIComponent(\n        `${evradAdi} Evradına katılmak için aşağıdaki linke tıklayabilirsiniz:\\n${paylasilacakLink}`\n      )}`;\n      \n      window.open(whatsappLink, '_blank');\n      setEvradAdi('');\n      setHedefSayi('');\n    } catch (error) {\n      alert('Hata: ' + error.message);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"admin-panel\">\n        <h2>Yeni Evrad Oluştur</h2>\n        <form onSubmit={evradOlustur}>\n          <input\n            type=\"text\"\n            placeholder=\"Evrad Adı\"\n            value={evradAdi}\n            onChange={(e) => setEvradAdi(e.target.value)}\n          />\n          <input\n            type=\"number\"\n            placeholder=\"Hedef Sayı\"\n            value={hedefSayi}\n            onChange={(e) => setHedefSayi(e.target.value)}\n          />\n          <button type=\"submit\">Oluştur ve Paylaş</button>\n        </form>\n\n        <div className=\"evrad-list\">\n          <h3>Evradlar</h3>\n          {evradlar.map((evrad) => (\n            <div key={evrad.id} className=\"evrad-card\">\n              <h4>{evrad.adi}</h4>\n              <div className=\"evrad-info\">\n                <p>Hedef: {evrad.hedefSayi}</p>\n                <p>Kalan: {evrad.kalanSayi}</p>\n              </div>\n              {evrad.katilimcilar.length > 0 && (\n                <div className=\"katilimcilar\">\n                  <h5>Katılımcılar:</h5>\n                  {evrad.katilimcilar.map((k, i) => (\n                    <p key={i}>{k.isim} - {k.okumaSayisi}</p>\n                  ))}\n                </div>\n              )}\n              {evrad.tamamlandi && (\n                <div className=\"tamamlandi\">\n                  🌟 Elhamdülillah! Evrad tamamlandı.\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AdminPanel; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,UAAU,EAAEC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,UAAU,QAAQ,oBAAoB;AACnF,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMiB,CAAC,GAAGb,KAAK,CAACF,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAAEI,OAAO,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACjF,MAAMa,WAAW,GAAGZ,UAAU,CAACW,CAAC,EAAGE,aAAa,IAAK;MACnD,MAAMC,YAAY,GAAG,EAAE;MACvBD,aAAa,CAACE,OAAO,CAAEC,GAAG,IAAK;QAC7BF,YAAY,CAACG,IAAI,CAAC;UAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;UAAE,GAAGF,GAAG,CAACG,IAAI,CAAC;QAAE,CAAC,CAAC;MAClD,CAAC,CAAC;MACFT,WAAW,CAACI,YAAY,CAAC;IAC3B,CAAC,CAAC;IACF,OAAO,MAAMF,WAAW,CAAC,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,MAAM,GAAG,MAAM1B,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,UAAU,CAAC,EAAE;QACtD6B,GAAG,EAAEnB,QAAQ;QACbE,SAAS,EAAEkB,QAAQ,CAAClB,SAAS,CAAC;QAC9BmB,SAAS,EAAED,QAAQ,CAAClB,SAAS,CAAC;QAC9BoB,UAAU,EAAE,KAAK;QACjBC,iBAAiB,EAAE,IAAIC,IAAI,CAAC,CAAC;QAC7BC,YAAY,EAAE;MAChB,CAAC,CAAC;;MAEF;MACA,MAAMC,aAAa,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,WAAW;MAC9D,MAAMC,QAAQ,GAAGJ,aAAa,GAAG,MAAM,GAAG,OAAO;MACjD,MAAMK,IAAI,GAAGL,aAAa,GAAG,gBAAgB,GAAGC,MAAM,CAACC,QAAQ,CAACG,IAAI;MAEpE,MAAMC,gBAAgB,GAAG,UAAUL,MAAM,CAACC,QAAQ,CAACG,IAAI,UAAUb,MAAM,CAACL,EAAE,EAAE;MAC5E,MAAMoB,YAAY,GAAG,uBAAuBC,kBAAkB,CAC5D,GAAGlC,QAAQ,+DAA+DgC,gBAAgB,EAC5F,CAAC,EAAE;MAEHL,MAAM,CAACQ,IAAI,CAACF,YAAY,EAAE,QAAQ,CAAC;MACnChC,WAAW,CAAC,EAAE,CAAC;MACfE,YAAY,CAAC,EAAE,CAAC;IAClB,CAAC,CAAC,OAAOiC,KAAK,EAAE;MACdC,KAAK,CAAC,QAAQ,GAAGD,KAAK,CAACE,OAAO,CAAC;IACjC;EACF,CAAC;EAED,oBACEzC,OAAA;IAAK0C,SAAS,EAAC,WAAW;IAAAC,QAAA,eACxB3C,OAAA;MAAK0C,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B3C,OAAA;QAAA2C,QAAA,EAAI;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3B/C,OAAA;QAAMgD,QAAQ,EAAE9B,YAAa;QAAAyB,QAAA,gBAC3B3C,OAAA;UACEiD,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,gBAAW;UACvBC,KAAK,EAAEhD,QAAS;UAChBiD,QAAQ,EAAGjC,CAAC,IAAKf,WAAW,CAACe,CAAC,CAACkC,MAAM,CAACF,KAAK;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACF/C,OAAA;UACEiD,IAAI,EAAC,QAAQ;UACbC,WAAW,EAAC,iBAAY;UACxBC,KAAK,EAAE9C,SAAU;UACjB+C,QAAQ,EAAGjC,CAAC,IAAKb,YAAY,CAACa,CAAC,CAACkC,MAAM,CAACF,KAAK;QAAE;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eACF/C,OAAA;UAAQiD,IAAI,EAAC,QAAQ;UAAAN,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC,eAEP/C,OAAA;QAAK0C,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzB3C,OAAA;UAAA2C,QAAA,EAAI;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAChBxC,QAAQ,CAAC+C,GAAG,CAAEC,KAAK,iBAClBvD,OAAA;UAAoB0C,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACxC3C,OAAA;YAAA2C,QAAA,EAAKY,KAAK,CAACjC;UAAG;YAAAsB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpB/C,OAAA;YAAK0C,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB3C,OAAA;cAAA2C,QAAA,GAAG,SAAO,EAACY,KAAK,CAAClD,SAAS;YAAA;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC/B/C,OAAA;cAAA2C,QAAA,GAAG,SAAO,EAACY,KAAK,CAAC/B,SAAS;YAAA;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC,EACLQ,KAAK,CAAC3B,YAAY,CAAC4B,MAAM,GAAG,CAAC,iBAC5BxD,OAAA;YAAK0C,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B3C,OAAA;cAAA2C,QAAA,EAAI;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACrBQ,KAAK,CAAC3B,YAAY,CAAC0B,GAAG,CAAC,CAACG,CAAC,EAAEC,CAAC,kBAC3B1D,OAAA;cAAA2C,QAAA,GAAYc,CAAC,CAACE,IAAI,EAAC,KAAG,EAACF,CAAC,CAACG,WAAW;YAAA,GAA5BF,CAAC;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA+B,CACzC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN,EACAQ,KAAK,CAAC9B,UAAU,iBACfzB,OAAA;YAAK0C,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAE5B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CACN;QAAA,GAlBOQ,KAAK,CAACvC,EAAE;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBb,CACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7C,EAAA,CA/FQD,UAAU;AAAA4D,EAAA,GAAV5D,UAAU;AAiGnB,eAAeA,UAAU;AAAC,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}